<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVPro - Mi Cuenta ğŸ‘¤</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="particles-js"></div>
    
    <nav class="main-nav">
        <div class="nav-brand">
            <h1>CVPro ğŸ‘¤</h1>
        </div>
        <div class="nav-links">
            <a href="index.html" class="nav-link">ğŸ  Constructor</a>
            <a href="batalla.html" class="nav-link">âš”ï¸ Modo Batalla</a>
            <a href="ia-analysis.html" class="nav-link">ğŸ¤– AnÃ¡lisis IA</a>
            <a href="premium.html" class="nav-link premium-link">ğŸ’ Premium</a>
            <a href="#cuenta" class="nav-link active">ğŸ‘¤ Mi Cuenta</a>
        </div>
    </nav>

    <div class="users-container">
        <!-- PERFIL DE USUARIO -->
        <div class="profile-section">
            <div class="profile-header">
                <div class="profile-avatar">
                    <div class="avatar-placeholder" id="user-avatar">U</div>
                    <button class="edit-avatar-btn" onclick="cambiarAvatar()">âœï¸</button>
                </div>
                <div class="profile-info">
                    <h1 id="user-name">Usuario CVPro</h1>
                    <p id="user-email">usuario@email.com</p>
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <span class="stat-number" id="cv-count">0</span>
                            <span class="stat-label">CVs Creados</span>
                        </div>
                        <div class="profile-stat">
                            <span class="stat-number" id="analysis-count">0</span>
                            <span class="stat-label">AnÃ¡lisis</span>
                        </div>
                        <div class="profile-stat">
                            <span class="stat-number" id="battle-count">0</span>
                            <span class="stat-label">Batallas</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="users-content">
            <!-- PANEL IZQUIERDO - NAVEGACIÃ“N -->
            <div class="users-sidebar">
                <div class="sidebar-nav">
                    <button class="nav-item active" onclick="mostrarSeccion('perfil')">
                        ğŸ‘¤ Perfil
                    </button>
                    <button class="nav-item" onclick="mostrarSeccion('cvs')">
                        ğŸ“ Mis CVs
                    </button>
                    <button class="nav-item" onclick="mostrarSeccion('configuracion')">
                        âš™ï¸ ConfiguraciÃ³n
                    </button>
                    <button class="nav-item" onclick="mostrarSeccion('premium')">
                        ğŸ’ Mi Premium
                    </button>
                    <button class="nav-item" onclick="mostrarSeccion('seguridad')">
                        ğŸ”’ Seguridad
                    </button>
                </div>

                <div class="sidebar-premium">
                    <div class="premium-status" id="premium-status">
                        <h4>Estado Premium</h4>
                        <div class="status-basic">Plan BÃ¡sico</div>
                        <button class="upgrade-btn" onclick="irAPremium()">
                            ğŸš€ Mejorar Plan
                        </button>
                    </div>
                </div>
            </div>

            <!-- PANEL DERECHO - CONTENIDO -->
            <div class="users-main">
                <!-- SECCIÃ“N PERFIL -->
                <div class="content-section active" id="seccion-perfil">
                    <h2>ğŸ‘¤ Editar Perfil</h2>
                    <form class="profile-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-nombre">Nombre Completo</label>
                                <input type="text" id="edit-nombre" placeholder="Tu nombre">
                            </div>
                            <div class="form-group">
                                <label for="edit-profesion">ProfesiÃ³n</label>
                                <input type="text" id="edit-profesion" placeholder="Tu profesiÃ³n">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="edit-email">Email</label>
                            <input type="email" id="edit-email" placeholder="tu@email.com">
                        </div>
                        <div class="form-group">
                            <label for="edit-telefono">TelÃ©fono</label>
                            <input type="tel" id="edit-telefono" placeholder="+1 234 567 890">
                        </div>
                        <div class="form-group">
                            <label for="edit-ubicacion">UbicaciÃ³n</label>
                            <input type="text" id="edit-ubicacion" placeholder="Ciudad, PaÃ­s">
                        </div>
                        <div class="form-group">
                            <label for="edit-linkedin">LinkedIn (opcional)</label>
                            <input type="url" id="edit-linkedin" placeholder="https://linkedin.com/in/tu-perfil">
                        </div>
                        <button type="button" class="save-btn" onclick="guardarPerfil()">
                            ğŸ’¾ Guardar Cambios
                        </button>
                    </form>
                </div>

                <!-- SECCIÃ“N CVs -->
                <div class="content-section" id="seccion-cvs">
                    <div class="section-header">
                        <h2>ğŸ“ Mis CVs Guardados</h2>
                        <button class="new-cv-btn" onclick="crearNuevoCV()">
                            â• Nuevo CV
                        </button>
                    </div>
                    <div class="cvs-grid" id="cvs-grid">
                        <!-- CVs se cargan dinÃ¡micamente -->
                    </div>
                </div>

                <!-- SECCIÃ“N CONFIGURACIÃ“N -->
                <div class="content-section" id="seccion-configuracion">
                    <h2>âš™ï¸ ConfiguraciÃ³n</h2>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <h4>ğŸŒ Idioma y RegiÃ³n</h4>
                            <select id="setting-idioma">
                                <option value="es">EspaÃ±ol</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <h4>ğŸ¨ Tema Predeterminado</h4>
                            <select id="setting-tema">
                                <option value="claro">Claro</option>
                                <option value="oscuro">Oscuro</option>
                                <option value="auto">AutomÃ¡tico</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <h4>ğŸ“§ Notificaciones</h4>
                            <label class="switch">
                                <input type="checkbox" id="notif-email" checked>
                                <span class="slider"></span>
                                <span class="switch-label">Notificaciones por email</span>
                            </label>
                            <label class="switch">
                                <input type="checkbox" id="notif-batallas" checked>
                                <span class="slider"></span>
                                <span class="switch-label">Resultados de batallas</span>
                            </label>
                        </div>
                    </div>
                    <button class="save-btn" onclick="guardarConfiguracion()">
                        ğŸ’¾ Guardar ConfiguraciÃ³n
                    </button>
                </div>

                <!-- SECCIÃ“N PREMIUM -->
                <div class="content-section" id="seccion-premium">
                    <h2>ğŸ’ Mi SuscripciÃ³n Premium</h2>
                    <div class="premium-info">
                        <div class="plan-current">
                            <h4>Plan Actual</h4>
                            <div class="plan-details">
                                <div class="plan-name" id="current-plan-name">BÃ¡sico</div>
                                <div class="plan-status" id="current-plan-status">Gratuito</div>
                            </div>
                        </div>
                        <div class="premium-features">
                            <h4>ğŸš€ Desbloquea con Premium</h4>
                            <ul>
                                <li>âœ… +5 plantillas premium exclusivas</li>
                                <li>âœ… AnÃ¡lisis IA avanzado</li>
                                <li>âœ… Modo Batalla ilimitado</li>
                                <li>âœ… ExportaciÃ³n PDF profesional</li>
                                <li>âœ… Soporte prioritario 24/7</li>
                            </ul>
                            <button class="upgrade-btn-large" onclick="irAPremium()">
                                ğŸ’ Mejorar a Premium
                            </button>
                        </div>
                    </div>
                </div>

                <!-- SECCIÃ“N SEGURIDAD -->
                <div class="content-section" id="seccion-seguridad">
                    <h2>ğŸ”’ Seguridad de la Cuenta</h2>
                    <div class="security-actions">
                        <div class="security-item">
                            <h4>ğŸ”‘ Cambiar ContraseÃ±a</h4>
                            <p>Actualiza tu contraseÃ±a regularmente para mantener tu cuenta segura</p>
                            <button class="security-btn" onclick="cambiarContrasena()">
                                Cambiar ContraseÃ±a
                            </button>
                        </div>
                        <div class="security-item">
                            <h4>ğŸ“§ Verificar Email</h4>
                            <p>Tu email estÃ¡ verificado y seguro</p>
                            <div class="verified-badge">âœ… Verificado</div>
                        </div>
                        <div class="security-item">
                            <h4>ğŸ—‘ï¸ Eliminar Cuenta</h4>
                            <p>Elimina permanentemente tu cuenta y todos tus datos</p>
                            <button class="delete-btn" onclick="eliminarCuenta()">
                                ğŸ—‘ï¸ Eliminar Cuenta
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="users.js"></script>
    <script>
        // Inicializar partÃ­culas
        function initParticles() {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('particles-js').appendChild(renderer.domElement);

            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 1500;
            const posArray = new Float32Array(particlesCount * 3);

            for(let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 5;
            }

            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.005,
                color: 0xffffff
            });

            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particlesMesh);
            camera.position.z = 2;

            function animate() {
                requestAnimationFrame(animate);
                particlesMesh.rotation.x += 0.0005;
                particlesMesh.rotation.y += 0.0005;
                renderer.render(scene, camera);
            }
            animate();
        }

        document.addEventListener('DOMContentLoaded', function() {
            initParticles();
            cargarDatosUsuario();
        });
    </script>
</body>
</html>